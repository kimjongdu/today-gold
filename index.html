async function fetchMetalPrices() {
    try {
        const apiUrl = "https://api.coingecko.com/api/v3/simple/price?ids=gold,silver,platinum&vs_currencies=krw&include_24hr_change=true";
        const response = await fetch(apiUrl);

        if (!response.ok) {
            throw new Error(`HTTP 오류 발생: ${response.status}`);
        }

        const data = await response.json();

        console.log("API 응답 데이터:", data); // 🟢 API 응답 로그 확인

        // ✅ API 응답 데이터가 비어 있는 경우 처리
        if (!data || Object.keys(data).length === 0) {
            throw new Error("API 응답이 비어 있습니다.");
        }

        // ✅ gold, silver, platinum이 undefined일 경우 대비
        const goldPrice = data.gold?.krw ? (1 / data.gold.krw) : 92000; // 기본값 92,000원
        const silverPrice = data.silver?.krw ? (1 / data.silver.krw) : 1100; // 기본값 1,100원
        const platinumPrice = data.platinum?.krw ? (1 / data.platinum.krw) : 35000; // 기본값 35,000원

        // ✅ 변환된 금속 가격
        const metalPrices = { gold: goldPrice, silver: silverPrice, platinum: platinumPrice };
        console.log("보정된 금속 가격:", metalPrices);

        renderGoldRates(metalPrices);
    } catch (error) {
        console.error("API 호출 오류:", error);
        document.getElementById("gold-rates").innerHTML = "<div class='error'>데이터를 불러올 수 없습니다.</div>";
    }
}
